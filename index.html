<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
</head>
<body>

    <header>
        <p>üìí T√†i Ch√≠nh C√° Nh√¢n K24_Rikkei</p>
        <span id="userName"></span>
        <button onclick="logout()">ƒêƒÉng xu·∫•t</button>
    </header>


    <div class="title">
        <div class="title1">
            <h2>üéØ Ki·ªÉm so√°t chi ti√™u th√¥ng minh</h2>
            <p>Theo d√µi ng√¢n s√°ch v√† thu chi h·∫±ng th√°ng d·ªÖ d√†ng</p>
        </div>
    </div>

    <!-- content -->
     <div id="content">
        <h1>üìä Qu·∫£n L√Ω T√†i Ch√≠nh C√° Nh√¢n</h1>

        <!-- ch·ªçn th√°ng -->
        <div id="chooseMonth">
            <p>üìÖ Ch·ªçn th√°ng:</p>
            <input type="month" id="month" name="month" onchange="displayBudget(),renderCategories(); loadCategoryOptions(); renderHistory(); checkLimit(); renderStatistics()">
        </div>

        <!-- ng√¢n s√°ch -->
        <div id="budget">
            <p>üí∞ Ng√¢n s√°ch th√°ng:</p>
            <input type="number" id="budgetInput" placeholder=" VD: 5000000">
            <button onclick="saveBudget()">L∆∞u</button>
        </div>
        <span id="errorBudget" ></span>

        <!-- Modal -->
        <span id="successModal" class="modal">
            <div class="modalContent">
            <span class="close" onclick="closeModal()"><i class="fa-solid fa-xmark"></i></span>
            <p>ƒê√£ l∆∞u ng√¢n s√°ch</p>
            </div>
        </span>

        <!-- ti√™nn d∆∞ -->
         <div id="money">
            <p>S·ªë ti·ªÅn c√≤n l·∫°i: </p>
            <span id="sumMoney"></span>

         </div>

         <!-- quan l√Ω danh m·ª•c -->
        <div id="manageCategory"> 
            <p>üíº Qu·∫£n l√Ω danh m·ª•c (theo th√°ng)</p>
            
            <input type="text" placeholder=" T√™n danh m·ª•c" id="category">
            <input type="text" placeholder=" Gi·ªõi h·∫°n (VND)" id="gioiHan">
            <button onclick="addCategory()">Th√™m danh m·ª•c</button> 
            
            <span id="updateCategory"></span>

                <!-- Modal s·ª≠a danh m·ª•c -->
            <span id="editModal" class="edit-modal">
                <div class="edit-modal-content">
                    <span class="edit-close" onclick="closeEditModal()">&times;</span>
                    <h2>S·ª≠a danh m·ª•c</h2>
                    <input type="text" id="editCategoryName" placeholder="T√™n danh m·ª•c">
                    <input type="number" id="editCategoryLimit" placeholder="Gi·ªõi h·∫°n (VND)">
                    <button id="saveEditBtn">L∆∞u</button>
                </div>
            </span>
            

            <!-- Modal x√°c nh·∫≠n xo√° danh m·ª•c -->
            <span id="deleteCategoryModal" class="delete-modal">
                <div class="delete-modal-content">
                    <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën xo√° danh m·ª•c n√†y kh√¥ng?</p>
                    <span class="delete-modal-buttons">
                        <button id="confirmDeleteBtn" class="btn-confirm">X√°c nh·∫≠n</button>
                        <button id="cancelDeleteBtn" class="btn-cancel">Hu·ª∑</button>
                    </span>
                </div>
            </span>
        </div>

        <span id="editCategory"></span>


        <!-- chi ti√™u -->
        <div id="spending">
            <input type="number" id="spendingAmount" placeholder=" S·ªë ti·ªÅn">
            <select id="selectCategory">
                <option value="0" checked>Ch·ªçn danh m·ª•c</option>
            </select>
            <input type="text" id="spendingNote" placeholder=" Ghi ch√∫">
            <button onclick="addSpending()">Th√™m</button>
        </div>




        <!-- l·ªãch s·ª≠ giao d·ªãch -->
         <div id="history">
            <p>üßæ L·ªãch s·ª≠ giao d·ªãch</p>
            <span id="searchHistory">
                <input type="text" placeholder=" T√¨m n·ªôi dung" id="searchInput" oninput="renderHistory()">
                <button onclick="filterHistory()"><i class="fa-solid fa-magnifying-glass"></i></button>
                <select id="sortOption" onchange="renderHistory()">
                    <option value="default">S·∫Øp x·∫øp theo gi√°</option>
                    <option value="asc">Gi√° tƒÉng d·∫ßn</option>
                    <option value="desc">Gi√° gi·∫£m d·∫ßn</option>
                </select>
            </span>
            
            <span id="updateHistory"></span>

            <ul id="pagination" class="pagination justify-content-center" style="margin-top: 1vw;"></ul>
            
         </div> 


         <!-- c·∫£nh b√°o -->
        <div id="warning"></div>


        <!-- Th·ªëng k√™ -->
        <!-- Th·ªëng k√™ -->
        <div id="overview">
            <p style="margin: 1.5vw;">üìÜ Th·ªëng k√™ chi ti√™u c√°c th√°ng</p>
            <table class="table" style="margin-left:1.5vw; width: 44vw;">
                <thead>
                <tr>
                    <th scope="col">Th√°ng</th>
                    <th scope="col">Chi ti√™u</th>
                    <th scope="col">Ng√¢n s√°ch</th>
                    <th scope="col">Tr·∫°ng th√°i</th>
                </tr>
                </thead>
                <tbody id="statBody">
                </tbody>
            </table>
        </div>




     </div>




    <footer>&copy 2025 Qu·∫£n L√Ω T√†i Ch√≠nh C√° Nh√¢n. by Tr·∫ßn Ho√†ng Thanh!</footer>

    <script src="/js/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
</body>
</html>